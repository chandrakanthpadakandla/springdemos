package com.cgi.name;

import java.util.Scanner;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

import com.cgi.model.Employee;
import com.cgi.repo.EmployeeRepo;

public class Main {

	public static void main(String[] args) {
ApplicationContext context=new ClassPathXmlApplicationContext("beans.xml");
EmployeeRepo repo=(EmployeeRepo)context.getBean("emprepo");
Employee emp=(Employee)context.getBean("employee");
Scanner scanner=new Scanner(System.in);
int choice=0;
while(true){
System.out.println("1)ADD EMPLOYEE");
System.out.println("2)DELETE EMPLOYEE");
System.out.println("3)UPDATE EMPLOYEE");
System.out.println("4)EXIT");
System.out.println("ENTER YOUR CHOICE");
choice=scanner.nextInt();
switch(choice) {
case 1 : System.out.println("enter the code");
String code=scanner.next();
System.out.println("enter the name");
String name=scanner.next();
emp.setCode(code);
emp.setName(name);
boolean b=repo.addEmployee(emp);
if(b) {
	System.out.println("record added");
}
else {
System.out.println("not added");
}
break;
	
case 2:  System.out.println("Enter the code");
String code=scanner.next();
boolean status=repo.deleteEmployee(code);
if(status==true){
     System.out.println("Deleted");
}
else
{
     System.out.println("Not deleted");
} 
break;

case 3 :
}

}
	}}
